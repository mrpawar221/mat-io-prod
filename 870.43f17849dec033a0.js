"use strict";(self.webpackChunkmatIo=self.webpackChunkmatIo||[]).push([[870],{4870:(dt,x,i)=>{i.r(x),i.d(x,{ContactmanagerModule:()=>pt});var m=i(6814),w=i(9845),Y=i(5614),c=i(6223),p=i(1896),t=i(5879),g=i(617),J=i(6593),v=i(2651),F=i(1088),I=i(5619),S=i(9862);let h=(()=>{class n{constructor(e){this.http=e,this.dataStore={users:[]},this._users=new I.X([])}get users(){return this._users.asObservable()}userById(e){return this.dataStore.users.find(o=>o.id==e)}loadAll(){return this.http.get("https://angular-material-api.azurewebsites.net/users").subscribe(o=>{this.dataStore.users=o,this._users.next(Object.assign({},this.dataStore).users)},o=>{console.log("Failed to fetch users",o)})}addUser(e){return new Promise((o,r)=>{e.id=this.dataStore.users.length+1,this.dataStore.users.push(e),this._users.next(Object.assign({},this.dataStore).users),o(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(S.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var A=i(1274),M=i(3680),y=i(9038);class Q{constructor(){this.notes=[]}}var f=i(9347),C=i(8034),u=i(9157),_=i(2032),N=i(8525),b=i(2296);function P(n,a){if(1&n&&(t.TgZ(0,"mat-option",13),t._UZ(1,"mat-icon",4),t._uU(2),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.s9C("svgIcon",e),t.xp6(1),t.hij(" ",e," ")}}function j(n,a){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.getErrorMessage())}}let B=(()=>{class n{constructor(e,o){this.dialogRef=e,this.userService=o,this.avatars=["svg-1","svg-2","svg-3","svg-4","svg-5","svg-6","svg-7","svg-8","svg-9"],this.name=new c.NI("",[c.kI.required])}ngOnInit(){this.user=new Q}save(){this.user.name=this.name.value,this.userService.addUser(this.user).then(e=>{this.dialogRef.close(this.user)})}dismiss(){this.dialogRef.close(null)}getErrorMessage(){return this.name.hasError("required")?"You must enter a name":""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.so),t.Y36(h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-contact-dialog"]],decls:42,vars:10,consts:[["mat-dialog-title",""],[1,"example-container"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"svgIcon"],[3,"value",4,"ngFor","ngForOf"],["matInput","","required","",3,"formControl"],[4,"ngIf"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["matInput","",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"click"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Add new contact"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"Avatar"),t.qZA(),t.TgZ(7,"mat-select",3),t.NdJ("ngModelChange",function(l){return o.user.avatar=l}),t.TgZ(8,"mat-select-trigger"),t._UZ(9,"mat-icon",4),t._uU(10),t.qZA(),t.YNc(11,P,3,3,"mat-option",5),t.qZA()(),t._UZ(12,"br"),t.TgZ(13,"mat-form-field",2)(14,"mat-label"),t._uU(15,"Name"),t.qZA(),t._UZ(16,"input",6),t.YNc(17,j,2,1,"mat-error",7),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"mat-form-field",2)(20,"mat-label"),t._uU(21,"Born"),t.qZA(),t.TgZ(22,"input",8),t.NdJ("ngModelChange",function(l){return o.user.birthDate=l}),t.qZA(),t.TgZ(23,"mat-hint"),t._uU(24,"MM/DD/YYYY"),t.qZA(),t._UZ(25,"mat-datepicker-toggle",9)(26,"mat-datepicker",null,10),t.qZA(),t._UZ(28,"br"),t.TgZ(29,"mat-form-field",2)(30,"mat-label"),t._uU(31,"Bio"),t.qZA(),t.TgZ(32,"textarea",11),t.NdJ("ngModelChange",function(l){return o.user.bio=l}),t.qZA()()()(),t.TgZ(33,"mat-dialog-actions")(34,"button",12),t.NdJ("click",function(){return o.save()}),t.TgZ(35,"mat-icon"),t._uU(36,"save"),t.qZA(),t._uU(37," Save "),t.qZA(),t.TgZ(38,"button",12),t.NdJ("click",function(){return o.dismiss()}),t.TgZ(39,"mat-icon"),t._uU(40,"cancel"),t.qZA(),t._uU(41," Cancel "),t.qZA()()),2&e){const r=t.MAs(27);t.xp6(7),t.Q6J("ngModel",o.user.avatar),t.xp6(2),t.s9C("svgIcon",o.user.avatar),t.xp6(1),t.hij(" ",o.user.avatar," "),t.xp6(1),t.Q6J("ngForOf",o.avatars),t.xp6(5),t.Q6J("formControl",o.name),t.xp6(1),t.Q6J("ngIf",o.name.invalid),t.xp6(5),t.Q6J("matDatepicker",r)("ngModel",o.user.birthDate),t.xp6(3),t.Q6J("for",r),t.xp6(7),t.Q6J("ngModel",o.user.bio)}},dependencies:[m.sg,m.O5,M.ey,C.Mq,C.hl,C.nW,u.KE,u.hX,u.bx,u.TO,u.R9,_.Nt,N.gD,N.$L,b.lW,g.Hw,f.uh,f.xY,f.H8,c.Fj,c.JJ,c.Q7,c.On,c.oH],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]}),n})();var q=i(2939),Z=i(7988);let R=(()=>{class n{constructor(e,o,r){this.dialog=e,this.snackBar=o,this.router=r,this.toggleSidenav=new t.vpe}ngOnInit(){}openAddContactDialog(){this.dialog.open(B,{width:"450px"}).afterClosed().subscribe(o=>{console.log("the dialog was closed",o),o&&this.openSnackBar("contact added","Navigate").onAction().subscribe(()=>{this.router.navigate(["/contactmanager",o.id])})})}openSnackBar(e,o){return this.snackBar.open(e,o,{duration:5e3})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.uw),t.Y36(q.ux),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-toolbar"]],outputs:{toggleSidenav:"toggleSidenav"},decls:14,vars:1,consts:[["color","primary"],["mat-button","",1,"sidenav-toggle",3,"click"],[1,"example-spacer"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"button",1),t.NdJ("click",function(){return o.toggleSidenav.emit()}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()(),t.TgZ(4,"span"),t._uU(5,"Contact Manager"),t.qZA(),t._UZ(6,"span",2),t.TgZ(7,"button",3)(8,"mat-icon"),t._uU(9,"more_vert"),t.qZA()(),t.TgZ(10,"mat-menu",null,4)(12,"button",5),t.NdJ("click",function(){return o.openAddContactDialog()}),t._uU(13," New Contact"),t.qZA()()()),2&e){const r=t.MAs(11);t.xp6(7),t.Q6J("matMenuTriggerFor",r)}},dependencies:[Z.VK,Z.OP,Z.p6,A.Ye,b.lW,g.Hw],styles:[".sidenav-toggle[_ngcontent-%COMP%]{display:none;padding:0;margin:8px;min-width:56px}@media (max-width: 720px){.sidenav-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}}.sidenav-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px;height:56px;width:56px;line-height:56px;color:#fff}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();const H=function(n){return["/contactmanager",n]};function z(n,a){if(1&n&&(t.TgZ(0,"mat-list-item")(1,"a",8),t._UZ(2,"mat-icon",9),t._uU(3),t.qZA()()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(3,H,e.id)),t.xp6(1),t.s9C("svgIcon",e.avatar),t.xp6(1),t.hij(" ",e.name," ")}}let X=(()=>{class n{constructor(e,o,r){this.breakpointObserver=e,this.userService=o,this.router=r}ngOnInit(){this.breakpointObserver.observe(["(max-width: 720px)"]).subscribe(e=>{this.isScreenSmall=e.matches}),this.users=this.userService.users,this.userService.loadAll(),this.router.events.subscribe(()=>{this.isScreenSmall&&this.sidenav.close()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.Yg),t.Y36(h),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sidenav"]],viewQuery:function(e,o){if(1&e&&t.Gf(v.JX,5),2&e){let r;t.iGM(r=t.CRH())&&(o.sidenav=r.first)}},decls:12,vars:5,consts:[[1,"app-sidenav-container"],[1,"app-sidenav","mat-elevation-z10",3,"opened","mode"],["sidenav",""],["color","primary"],[4,"ngFor","ngForOf"],[1,"app-sidenav-content"],[3,"toggleSidenav"],[1,"wrapper"],["matLine","",1,"txt-format",3,"routerLink"],[1,"icon-circular",3,"svgIcon"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3),t._uU(4," Contacts "),t.qZA(),t.TgZ(5,"mat-nav-list"),t.YNc(6,z,4,5,"mat-list-item",4),t.ALo(7,"async"),t.qZA()(),t.TgZ(8,"div",5)(9,"app-toolbar",6),t.NdJ("toggleSidenav",function(){t.CHM(r);const ut=t.MAs(2);return t.KtG(ut.toggle())}),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"router-outlet"),t.qZA()()()}2&e&&(t.xp6(1),t.Q6J("opened",!o.isScreenSmall)("mode",o.isScreenSmall?"over":"side"),t.xp6(5),t.Q6J("ngForOf",t.lcZ(7,3,o.users)))},dependencies:[m.sg,v.JX,v.TM,A.Ye,M.X2,y.Hk,y.Tg,g.Hw,p.lC,p.rH,R,m.Ov],styles:[".app-sidenav-container[_ngcontent-%COMP%]{flex:1;position:fixed;width:100%;height:100%;min-width:100%;min-height:100%}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}.app-sidenav[_ngcontent-%COMP%]{width:240px}.mat-elevation-z10[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z10[_ngcontent-%COMP%]{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f!important}.wrapper[_ngcontent-%COMP%]{margin:50px}.icon-circular[_ngcontent-%COMP%]{border-radius:100%;margin-right:10px}.txt-format[_ngcontent-%COMP%]{text-decoration:none;display:flex}"]}),n})(),k=(()=>{class n{constructor(e,o){e.addSvgIconSet(o.bypassSecurityTrustResourceUrl("assets/avatars.svg"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.jv),t.Y36(J.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contactmanager"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"app-sidenav")},dependencies:[X]}),n})();var d=i(5195),U=i(4104),E=i(5940),s=i(5313),O=i(1476),T=i(3566),G=i(4300);function $(n,a){1&n&&(t.TgZ(0,"th",16),t._uU(1," No. "),t.qZA())}function K(n,a){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function W(n,a){1&n&&(t.TgZ(0,"th",18),t._uU(1," Title "),t.qZA())}function V(n,a){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function tt(n,a){1&n&&(t.TgZ(0,"th",19),t._uU(1," Date "),t.qZA())}function et(n,a){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.date,"yyyy-MM-dd")," ")}}function nt(n,a){1&n&&t._UZ(0,"tr",20)}function ot(n,a){1&n&&t._UZ(0,"tr",21)}function at(n,a){if(1&n&&(t.TgZ(0,"tr",22)(1,"td",23),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(5);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const it=function(){return[2,5,10,20]};let rt=(()=>{class n{constructor(e){this._liveAnnouncer=e,this.displayedColumns=["position","title","date"]}ngOnInit(){this.dataSource=new s.by(this.notes)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(G.Kd))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-notes"]],viewQuery:function(e,o){if(1&e&&(t.Gf(O.NW,5),t.Gf(T.YE,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first)}},inputs:{notes:"notes"},decls:20,vars:6,consts:[[1,"mat-elevation-z8"],[1,"alignFilter"],["matInput","","placeholder","Filter",3,"keyup"],["input",""],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by title",4,"matHeaderCellDef"],["matColumnDef","date"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by date",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by title"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by date"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Filter"),t.qZA(),t.TgZ(4,"input",2,3),t.NdJ("keyup",function(l){return o.applyFilter(l)}),t.qZA()(),t.TgZ(6,"table",4),t.NdJ("matSortChange",function(l){return o.announceSortChange(l)}),t.ynx(7,5),t.YNc(8,$,2,0,"th",6),t.YNc(9,K,2,1,"td",7),t.BQk(),t.ynx(10,8),t.YNc(11,W,2,0,"th",9),t.YNc(12,V,2,1,"td",7),t.BQk(),t.ynx(13,10),t.YNc(14,tt,2,0,"th",11),t.YNc(15,et,3,4,"td",7),t.BQk(),t.YNc(16,nt,1,0,"tr",12),t.YNc(17,ot,1,0,"tr",13),t.YNc(18,at,3,1,"tr",14),t.qZA(),t._UZ(19,"mat-paginator",15),t.qZA()),2&e&&(t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSize",2)("pageSizeOptions",t.DdM(5,it)))},dependencies:[u.KE,u.hX,_.Nt,O.NW,T.YE,T.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,m.uU],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.alignFilter[_ngcontent-%COMP%]{display:flex;margin-top:10px}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}"]}),n})();function st(n,a){1&n&&(t.TgZ(0,"div",2),t._UZ(1,"mat-spinner"),t.qZA())}function lt(n,a){if(1&n&&(t.TgZ(0,"div")(1,"mat-card")(2,"mat-card-header"),t._UZ(3,"mat-icon",3),t.TgZ(4,"mat-card-title")(5,"h2"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.ALo(9,"date"),t.qZA()(),t.TgZ(10,"mat-card-content")(11,"mat-tab-group")(12,"mat-tab",4)(13,"p"),t._uU(14),t.qZA()(),t.TgZ(15,"mat-tab",5),t._UZ(16,"app-notes",6),t.qZA()()()()()),2&n){const e=t.oxw();t.xp6(3),t.s9C("svgIcon",e.user.avatar),t.xp6(3),t.Oqu(e.user.name),t.xp6(2),t.hij(" Birthday ",t.xi3(9,5,e.user.birthDate,"d LLLL")," "),t.xp6(6),t.hij(" ",e.user.bio," "),t.xp6(2),t.Q6J("notes",e.user.notes)}}let D=(()=>{class n{constructor(e,o){this.route=e,this.userService=o}ngOnInit(){this.route.params.subscribe(e=>{let o=e.id;o||(o=1),this.user=null,this.userService.users.subscribe(r=>{0!=r.length&&setTimeout(()=>{this.user=this.userService.userById(o)},400)})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main-content"]],decls:2,vars:2,consts:[["class","spinnerFormat",4,"ngIf"],[4,"ngIf"],[1,"spinnerFormat"],["mat-card-avatar","",1,"iconAlign",3,"svgIcon"],["label","Bio"],["label","Notes"],[3,"notes"]],template:function(e,o){1&e&&(t.YNc(0,st,2,0,"div",0),t.YNc(1,lt,17,8,"div",1)),2&e&&(t.Q6J("ngIf",!o.user),t.xp6(1),t.Q6J("ngIf",o.user))},dependencies:[m.O5,d.a8,d.kc,d.dn,d.dk,d.$j,d.n5,U.uX,U.SP,g.Hw,E.Ou,rt,m.uU],styles:[".spinnerFormat[_ngcontent-%COMP%]{display:flex;justify-content:center}.iconAlign[_ngcontent-%COMP%]{margin-top:24px}"]}),n})();const ct=[{path:"",component:k,children:[{path:":id",component:D},{path:"",component:D}]},{path:"**",redirectTo:""}];let mt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(ct),p.Bz]}),n})(),pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[h],imports:[m.ez,w.q,c.u5,Y.o9,mt,S.JF,c.UX]}),n})()}}]);